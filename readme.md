# My Personal Portfolio

A multidisciplinary portfolio website combining high-performance static site generation with a serverless backend. This project showcases professional a custom-built photography engine, and interactive travel visualizations.

**Live Site:** [https://www.himanjal.com](https://www.himanjal.com)  

---

## ğŸš€ Key Features

### 1. The Playground (Infinite Canvas)
An immersive, infinite-scroll interface that loads images dynamically.
* **Tech:** Vanilla JS (`playground.js`) + Custom CSS.
* **Performance:** Uses a flat-file JSON manifest (`playground_manifest.json`) fetched from CloudFront.
* **Optimization:** Implements "pre-warming" cache logic and layout thrashing prevention for 60fps performance.

### 2. Dynamic Gallery System
A decoupled gallery architecture where the frontend is static, but content is dynamic.
* **Structure:** The `gallery` page lists albums, while the `album-viewer` renders specific photos.
* **Data Source:** Each album pulls a dedicated JSON configuration from S3/CloudFront, allowing albums to be updated without rebuilding the Hugo site.
* **Viewer:** Integrated with **PhotoSwipe** for high-performance, touch-friendly image zooming and swiping (`photoswipe.css`, `album-viewer.js`).

### 3. Mountain Range & Travel Heatmap
An interactive visualization of global travel history and hiking expeditions.
* **Location:** `/travel-heatmap/`
* **Data Driven:** * **Points:** Driven by `static/heatmap/heatmap_input_data.csv`.
    * **Topology:** Mountain ranges rendered via `static/heatmap/ranges_small.geojson`.
* **Logic:** `heatmap.js` handles the parsing of CSV/GeoJSON data and rendering the map layer.

---

## ğŸ— Architecture

The system uses a **Hybrid Architecture**:
1.  **Frontend:** **Hugo** (Static Site Generator) compiles HTML/CSS/JS. Hosted on **GitHub Pages**.
2.  **Backend:** **AWS Serverless** (S3 + Lambda + CloudFront) handles image processing and API-like JSON delivery.


### The Serverless Workflow
When an image is uploaded to the S3 Bucket:
1.  **Trigger:** An S3 Event Notification fires the Lambda function (`update_gallery.py`).
2.  **Process:** * Generates 800px optimized thumbnails.
    * Updates `manifest.json` (List of Albums).
    * Updates `playground_manifest.json` (Flat list of all images).
    * Updates specific `[ALBUM].json` metadata.
3.  **Invalidate:** Sets `Cache-Control: max-age=0` on JSON files so the frontend sees updates instantly.

---

## ğŸ“‚ Repository Structure

Based on the project file tree:

```text
.
â”œâ”€â”€ assets/                  # Core assets and backend scripts
â”‚   â”œâ”€â”€ images/              # Static site images
â”‚   â”œâ”€â”€ logos/               # SVG logos
â”‚   â”œâ”€â”€ trigger_lambda.py    # AWS Lambda entry point helper
â”‚   â””â”€â”€ update_gallery.py    # MAIN BACKEND SCRIPT (Image processing & JSON generation)
â”œâ”€â”€ content/                 # Hugo Content Pages
â”‚   â”œâ”€â”€ about/               # About page markdown
â”‚   â”œâ”€â”€ album-viewer/        # Logic for rendering a single album
â”‚   â”œâ”€â”€ gallery/             # Main gallery grid listing
â”‚   â”œâ”€â”€ playground/          # Infinite canvas container
â”‚   â””â”€â”€ travel-heatmap/      # Heatmap container
â”œâ”€â”€ layouts/                 # HTML Templates
â”‚   â”œâ”€â”€ _default/            # Base templates (baseof.html, list.html)
â”‚   â”œâ”€â”€ partials/            # Headers, footers, nav
â”‚   â””â”€â”€ [sections]/          # Specific layouts (playground/single.html, etc.)
â”œâ”€â”€ static/                  # Raw assets served as-is
â”‚   â”œâ”€â”€ css/                 # Stylesheets (gallery.css, heatmap.css, playground.css, etc.)
â”‚   â”œâ”€â”€ heatmap/             # DATA SOURCES
â”‚   â”‚   â”œâ”€â”€ heatmap_input_data.csv
â”‚   â”‚   â””â”€â”€ ranges_small.geojson
â”‚   â””â”€â”€ js/                  # Client-side Logic
â”‚       â”œâ”€â”€ gallery.js       # Fetches album lists
â”‚       â”œâ”€â”€ heatmap.js       # Renders map data
â”‚       â”œâ”€â”€ playground.js    # Spawning logic
â”‚       â””â”€â”€ ...
â””â”€â”€ config.toml              # Hugo Global Configuration
```
---

## ğŸ›  Local Development

### Prerequisites

* [Hugo Extended](https://gohugo.io/installation/) (Latest Version)
* Git

### Quick Start

1. **Clone the repository:**
```bash
git clone [https://github.com/your-username/your-repo.git](https://github.com/your-username/your-repo.git)
cd your-repo

```


2. **Run the local server:**
```bash
hugo server -D

```


Access the site at `http://localhost:1313`.

---

## â˜ï¸ Backend Configuration (AWS)

To replicate the backend functionality, you need the following AWS setup:

### 1. S3 Bucket Structure

Create a bucket (e.g., `[YOUR_BUCKET_NAME]`) with this folder structure:

* `/images/gallery/{album_name}/` (Source images go here)
* `/images/thumbs/` (Auto-generated by Lambda)
* `/images/configs/` (Auto-generated JSONs)

### 2. Lambda Function

* **Code:** Use `assets/update_gallery.py`.
* **Triggers:** Configure S3 to trigger on **ObjectCreated** and **ObjectRemoved**.
* **Environment Variables:**
* `BUCKET_NAME`: `[YOUR_BUCKET_NAME]`
* `CLOUDFRONT_DOMAIN`: `[YOUR_CLOUDFRONT_ID].cloudfront.net`


* **Permissions:** IAM Role needs S3 `Read/Write/List` and CloudWatch Logs access.

### 3. CloudFront CDN

* Point a distribution to your S3 bucket.
* **Caching Policy:**
* Images: Default (24h).
* JSON (`/images/configs/*`): Set via origin headers (The Python script sets `max-age=0` to force revalidation).



---

## ğŸ“¸ Content Management

### Adding a New Album

1. Create a folder `images/gallery/my-new-trip/` in S3.
2. Upload `.jpg` or `.png` files.
3. **Wait ~15 seconds.** The Lambda function will automatically:
* Create thumbnails.
* Create `images/configs/my-new-trip.json`.
* Add the album to the global `manifest.json`.



### Updating the Heatmap

1. Edit `static/heatmap/heatmap_input_data.csv`.
2. Commit and push to GitHub.
3. The site updates automatically via GitHub Actions.

---
